# -*- coding: utf-8 -*-
# ---------------------------------------------------------------------------
# tmp.py
# Created on: 2017-12-05 10:21:50.00000
#   (generated by ArcGIS/ModelBuilder)
# Usage: tmp <Input_RCL_Subset> <Input_Shapefile> 
# Description: 
# This tool selects RCL_Subset segments that intersect with the SBBs_Buff2k shapefile. The selected segments' NH_CONSITE value is then set to 1. Finally, the selection is reversed, and the newly selected segments' NH_CONSITE value is set to 0.
# 
# The user should try running this model from the modelbuilder window instead of the toolbox if it is not performing as expected. 

# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy

# Script arguments
Input_RCL_Subset = arcpy.GetParameterAsText(0)
if Input_RCL_Subset == '#' or not Input_RCL_Subset:
    Input_RCL_Subset = "C:\\Users\\xch43889\\Documents\\Working\\RCL\\RCL_TBXandGDB_revised\\RCL_TBXandGDB_revised\\RCL_Proc.gdb\\RCL_Subset" # provide a default value if unspecified

Input_Shapefile = arcpy.GetParameterAsText(1)
if Input_Shapefile == '#' or not Input_Shapefile:
    Input_Shapefile = "C:\\Users\\xch43889\\Documents\\Working\\RCL\\RCL_TBXandGDB_revised\\SBBs_buff2k_20170605\\SBBs_buff2k.shp" # provide a default value if unspecified

# Local variables:
Output_RCL_Subset_Layer = "RCL_Subset_Layer"
Output_RCL_Subset_Layer_with_data_selection = Output_RCL_Subset_Layer
Output_RCL_Subset_Layer_with_selection_set_to_a_value_of_1 = Output_RCL_Subset_Layer_with_data_selection
Output_RCL_Subset_Layer_with_reversed_data_selection = Output_RCL_Subset_Layer_with_selection_set_to_a_value_of_1
Output_Subset_Layer_with_selected_areas_representing_1_and_non_selected_areas_representing_0 = Output_RCL_Subset_Layer_with_reversed_data_selection

# Process: Make Feature Layer
arcpy.MakeFeatureLayer_management(Input_RCL_Subset, Output_RCL_Subset_Layer, "", "", "OBJECTID OBJECTID VISIBLE NONE;Shape Shape VISIBLE NONE;RCL_ID RCL_ID VISIBLE NONE;LOCAL_ID LOCAL_ID VISIBLE NONE;VDOT_EDGE_ID VDOT_EDGE_ID VISIBLE NONE;MFIPS MFIPS VISIBLE NONE;GEOMETRY_EDIT_TYPE GEOMETRY_EDIT_TYPE VISIBLE NONE;GEOMETRY_EFFECTIVE_DATE GEOMETRY_EFFECTIVE_DATE VISIBLE NONE;GEOMETRY_SOURCE GEOMETRY_SOURCE VISIBLE NONE;GEOMETRY_EDIT_DATE GEOMETRY_EDIT_DATE VISIBLE NONE;LEFT_FROM_ADDRESS LEFT_FROM_ADDRESS VISIBLE NONE;LEFT_TO_ADDRESS LEFT_TO_ADDRESS VISIBLE NONE;RIGHT_FROM_ADDRESS RIGHT_FROM_ADDRESS VISIBLE NONE;RIGHT_TO_ADDRESS RIGHT_TO_ADDRESS VISIBLE NONE;ADDRESS_RANGE_FORMAT ADDRESS_RANGE_FORMAT VISIBLE NONE;ADDRESS_RANGE_SOURCE ADDRESS_RANGE_SOURCE VISIBLE NONE;ADDRESS_RANGE_EDIT_DATE ADDRESS_RANGE_EDIT_DATE VISIBLE NONE;STREET_PREMODIFIER STREET_PREMODIFIER VISIBLE NONE;STREET_PREFIX_DIRECTION STREET_PREFIX_DIRECTION VISIBLE NONE;STREET_NAME STREET_NAME VISIBLE NONE;STREET_SUFFIX STREET_SUFFIX VISIBLE NONE;STREET_SUFFIX_DIRECTION STREET_SUFFIX_DIRECTION VISIBLE NONE;STREET_POSTMODIFIER STREET_POSTMODIFIER VISIBLE NONE;STREET_NAME_FULL STREET_NAME_FULL VISIBLE NONE;STREET_NAME_SOURCE STREET_NAME_SOURCE VISIBLE NONE;STREET_NAME_EDIT_DATE STREET_NAME_EDIT_DATE VISIBLE NONE;MTFCC MTFCC VISIBLE NONE;SEGMENT_TYPE SEGMENT_TYPE VISIBLE NONE;LOCAL_SPEED_MPH LOCAL_SPEED_MPH VISIBLE NONE;DUAL_CARRIAGEWAY DUAL_CARRIAGEWAY VISIBLE NONE;ONE_WAY ONE_WAY VISIBLE NONE;REVERSIBLE REVERSIBLE VISIBLE NONE;SEGMENT_EXISTS SEGMENT_EXISTS VISIBLE NONE;Shape_Length Shape_Length VISIBLE NONE;NH_BUFF_M NH_BUFF_M VISIBLE NONE;NH_SURFWIDTH_FLAG NH_SURFWIDTH_FLAG VISIBLE NONE;NH_COMMENTS NH_COMMENTS VISIBLE NONE;VDOT_RTE_TYPE_CD VDOT_RTE_TYPE_CD VISIBLE NONE;VDOT_SURFACE_WIDTH_MSR VDOT_SURFACE_WIDTH_MSR VISIBLE NONE;VDOT_TRAFFIC_AADT_NBR VDOT_TRAFFIC_AADT_NBR VISIBLE NONE;NH_BUFF_FT NH_BUFF_FT VISIBLE NONE;NH_CONSITE NH_CONSITE VISIBLE NONE;NH_LINE_EDIT NH_LINE_EDIT VISIBLE NONE;NH_BUFF_EDIT NH_BUFF_EDIT VISIBLE NONE;NH_REV_EDITOR NH_REV_EDITOR VISIBLE NONE;NH_REV_DATE NH_REV_DATE VISIBLE NONE")

# Process: Select Layer By Location
arcpy.SelectLayerByLocation_management(Output_RCL_Subset_Layer, "INTERSECT", Input_Shapefile, "", "NEW_SELECTION", "NOT_INVERT")

# Process: Calculate Field
arcpy.CalculateField_management(Output_RCL_Subset_Layer_with_data_selection, "NH_CONSITE", "1", "VB", "")

# Process: Select Layer By Attribute
arcpy.SelectLayerByAttribute_management(Output_RCL_Subset_Layer_with_selection_set_to_a_value_of_1, "SWITCH_SELECTION", "")

# Process: Calculate Field (2)
arcpy.CalculateField_management(Output_RCL_Subset_Layer_with_reversed_data_selection, "NH_CONSITE", "0", "VB", "")

